;----------------------------------------------------------------------------------------
; AK-105 from STCOP 3.3, remade by Surs for A.R.E.A. (28.08.2020)
;----------------------------------------------------------------------------------------
[wpn_ak105]:default_weapon_params
$spawn						= "weapons\ak-74"		; name and section in level editor
$npc						= on
visual						= dynamics\weapons\wpn_ak105\wpn_ak105.ogf
class						= WP_AK74
inv_name					= st_wpn_ak105
inv_name_short				= st_wpn_ak105
description					= st_wpn_ak105_descr
heating_rates				= ak3
ef_main_weapon_type			= 2
ef_weapon_type				= 8
default_to_ruck				= false
sprint_allowed				= true
repair_type 				= rifle_5.45
cost						= 24480
weapon_class				= assault_rifle
inv_weight					= 3.2
inv_volume					= 4.0
ph_mass						= 4
upgrades					= up_gr_firstab_ak105, up_gr_seconab_ak105, up_gr_thirdab_ak105, up_gr_fourtab_ak105, up_gr_fifthab_ak105
installed_upgrades			=
upgrade_scheme				= upgrade_scheme_ak74u
;-ТТХ---------------------------------------------------------------------------
hit_power            		= 0.46, 0.46, 0.46, 0.46
hit_impulse					= 25
hit_type					= fire_wound
fire_distance				= 700
bullet_speed				= 820
rpm							= 650
rpm_empty_click				= 200
time_to_aim					= 1.0
hud							= wpn_ak105_hud

misfire_probability        	= 0.005
misfire_start_condition		= 0.73
misfire_end_condition		= 0.08
misfire_start_prob 			= 0.007
misfire_end_prob 			= 0.11
condition_shot_dec      	= 0.0008
condition_queue_shot_dec	= 0.0008

ammo_elapsed				= 30
ammo_mag_size				= 30
fire_modes					= -1, 1
magazine_sect				= mag_545_30, magazine_545_cnt_30_2, magazine_545_cnt_45, magazine_545_cnt_45_2, magazine_545_cnt_60, magazine_545_cnt_75
magazine_sect				= mag_545_cnt_30_ak105, mag_545_cnt_30_2_ak105, mag_545_cnt_45_ak105, mag_545_cnt_45_2_ak105, mag_545_cnt_60_ak105, mag_545_cnt_75_ak105
ammo_class					= ammo_5.45x39_fmj, ammo_5.45x39_fmj_bad, ammo_5.45x39_fmj_verybad, ammo_5.45x39_ap, ammo_5.45x39_ap_bad, ammo_5.45x39_ap_verybad
grenade_class				= ammo_vog-25, ammo_vog-25_bad, ammo_vog-25_verybad, ammo_vog-25p, ammo_vog-25p_bad, ammo_vog-25p_verybad
slot						= 2
animation_slot				= 2
;--Доф---------------------------------------------------------------------
zoom_dof					= 0.5, 1.0, 180
reload_dof					= 0.0, 0.5, 5, 2
reload_empty_dof			= 0.0, 0.5, 5, 3
;--Дисперсия---------------------------------------------------------------
fire_dispersion_base		= 0.36
control_inertion_factor		= 1.11f
crosshair_inertion			= 4.8

cam_return					= 0
cam_relax_speed				= 12				;скорость возврата в исходное положение
cam_relax_speed_ai			= 120.75
cam_dispersion				= 0.87
cam_dispersion_inc			= 0.51
cam_dispersion_frac			= 1.1				;ствол будет подыматься на cam_dispersion*cam_dispersion_frac +- cam_dispersion*(1-cam_dispersion_frac)
cam_max_angle				= 37.0				;максимальный угол отдачи
cam_max_angle_horz			= 37.0				;(degree) maximum shot horizontal degree
cam_step_angle_horz			= 1.10				;(degree) size of step camera moved in horizontal position while shooting

zoom_cam_relax_speed		= 12				; scope & ironsight
zoom_cam_relax_speed_ai		= 360
zoom_cam_dispersion			= 0.71
zoom_cam_dispersion_inc		= 0.42
zoom_cam_dispersion_frac	= 1.0
zoom_cam_max_angle			= 37.0
zoom_cam_max_angle_horz		= 37.0
zoom_cam_step_angle_horz	= 1.00

PDM_disp_base 				= 0.8
PDM_disp_vel_factor 		= 1.65
PDM_disp_accel_factor 		= 1.655
PDM_disp_crouch 			= 1.0
PDM_disp_crouch_no_acc 		= 1.0
fire_dispersion_condition_factor = 0.001
;-------------------------------------------------------------------------------
position					= -0.019, -0.165, 0.01
orientation					= 0, 0, 0
fire_point					= 0, 0.220, 0.55
fire_point2					= 0, 0.161, 0.55
flame_particles				= weapons\new_effects\pistol_9x18 ; particles for shooting effects
smoke_particles				= weapons\new_effects\smoke_silencer_pistol
grenade_flame_particles		= weapons\new_effects\glauncher
shell_point		 			= 0.02,0.23,0.125
shell_dir					= 0.0, 0.0, 0.4
shell_particles				= weapons\545x39
;-------------------------------------------------------------------------------
inv_grid_width				= 5
inv_grid_height				= 2
inv_grid_x					= 20 
inv_grid_y					= 22

upgr_icon_x					= 0
upgr_icon_y					= 900
upgr_icon_width				= 300
upgr_icon_height   			= 100

kill_msg_x					= 0
kill_msg_y					= 28
kill_msg_width				= 84
kill_msg_height				= 28

light_disabled				= false
light_color					= 0.6,0.5,0.3
light_range					= 5
light_var_color				= 0.05
light_var_range				= 0.5
light_time					= 0.2

;addons
scope_status				= 2				; 0 - no addon
silencer_status				= 2				; 1 - permanent
grenade_launcher_status		= 0				; 2 - attachable

scopes 						= 1p29, 1p78, kobra, pso, ekp, okp
zoom_enabled				= true
zoom_rotate_time			= 0.25
scope_zoom_factor			= 1.03

grenade_launcher_name		= wpn_addon_grenade_launcher
grenade_launcher_x			= 126
grenade_launcher_y			= 21

silencer_name				= wpn_sil_tgp-a
silencer_x					= 226
silencer_y					= 7
silencer_light_color		= 0.6,0.5,0.3
silencer_light_range		= 0.01
silencer_light_var_color	= 0.05
silencer_light_var_range	= 0.5
silencer_light_time			= 0.2
silencer_smoke_particles	= weapons\new_effects\smoke_silencer_pistol
;--A.R.E.A. Sound Remake--------------------------------------------------------
snd_holster					= weapons\aks74u\aks74u_holster
snd_empty					= weapons\ak105\ak105_empty
snd_draw					= weapons\aks74u\aks74u_draw
snd_reload					= weapons\ak105\ak105_reload
snd_reload_empty			= weapons\ak105\ak105_reload_empty
snd_reload_misfire			= weapons\ak105\ak105_reload_empty,1,0,2.4
snd_reload_detached			= weapons\ak105\ak105_reload,1,0,1.1
snd_reload_detached_empty	= weapons\ak105\ak105_reload_empty,1,0,0.8
snd_check_magazine			= weapons\ak105\ak105_reload
snd_shoot_grenade			= weapons\ak105\ak105_grenshoot
snd_reload_grenade			= weapons\ak105\ak105_grenload	
snd_shoot					= weapons\ak105\ak105_shoot_null
snd_silencer_shot			= weapons\ak105\ak105_shot_sil_null
snd_switch					= $no_sound
snd_bore					= $no_sound
;--Магазины-------------------------------------------------------------------
[mag_545_cnt_30_ak105]
magazine_name				= magazine_545_cnt_30
magazine_x					= 98
magazine_y					= 37
custom_icon 				= 6,6,1,1 ;x,y,width,height
;-----------------------------------------------------------------------------
[mag_545_cnt_30_2_ak105]
magazine_name				= magazine_545_cnt_30_2
magazine_x					= 98
magazine_y					= 40
custom_icon 				= 5,8,1,1 ;x,y,width,height
;-----------------------------------------------------------------------------
[mag_545_cnt_45_ak105]
magazine_name				= magazine_545_cnt_45
magazine_x					= 100
magazine_y					= 41
custom_icon 				= 8,8,1,1 ;x,y,width,height
;-----------------------------------------------------------------------------
[mag_545_cnt_45_2_ak105]
magazine_name				= magazine_545_cnt_45_2
magazine_x					= 101
magazine_y					= 41
custom_icon 				= 9,8,1,1 ;x,y,width,height
;-----------------------------------------------------------------------------
[mag_545_cnt_60_ak105]
magazine_name				= magazine_545_cnt_60
magazine_x					= 101
magazine_y					= 41
custom_icon 				= 10,8,1,1 ;x,y,width,height
;-----------------------------------------------------------------------------
[mag_545_cnt_75_ak105]
magazine_name				= magazine_545_cnt_75
magazine_x					= 102
magazine_y					= 42
custom_icon 				= 11,8,1,1 ;x,y,width,height
;-------------------------------------------------------------------------------
[wpn_ak105_hud]:hud_base
item_visual					= dynamics\weapons\wpn_ak105\wpn_ak105_hud.ogf
zoom_hide_crosshair			= true
shell_point					= 0.018,0.06,0.058355
shell_dir					= 0,1,0
shell_bone					= wpn_body
fire_point					= 0,0.048,0.466
fire_bone					= wpn_body
fire_point2					= 0,-0.011,0.553
fire_bone2					= wpn_body

hands_position				= -0.023495,0.009215,0.065918
hands_position_16x9			= -0.023495,0.009215,0.065918
hands_orientation			= 1.652664,2.19751,-0.14
hands_orientation_16x9		= 1.652664,2.19751,-0.14

aim_hud_offset_pos			= -0.04789,0.022235,-0.132433
aim_hud_offset_pos_16x9		= -0.04789,0.022235,-0.132433
aim_hud_offset_rot			= 0.047278,0.028683,-0.0115
aim_hud_offset_rot_16x9		= 0.047278,0.028683,-0.0115

aim_hud_offset_pos_alt		= -0.026575,-0.015385,0
aim_hud_offset_pos_alt_16x9	= -0.026575,-0.015385,0
aim_hud_offset_rot_alt		= -0.001011,-0.007579,0.370347
aim_hud_offset_rot_alt_16x9	= -0.001011,-0.007579,0.370347

anm_show					= aksu_draw, draw
anm_hide					= aksu_holster, holster
anm_idle					= aksu_idle, idle
anm_idle_sprint				= aksu_idle_sprint
anm_idle_moving				= aksu_idle_walk
anm_shots					= aksu_shoot, shoot
anm_shots_empty				= aksu_idle, idle
anm_reload					= aksu_reload, reload
anm_reload_empty			= aksu_reload_empty, reload_empty
anm_reload_misfire			= aksu_misfire
anm_reload_detached			= aksu_reload, reload, , 0.8
anm_reload_detached_empty	= aksu_reload_empty, reload_empty, , 0.8
anm_idle_moving_crouch		= aksu_idle_crouch_walk, idle
anm_idle_aim				= aksu_idle_aim
anm_bore					= aksu_idle_bore
anm_check_magazine			= aksu_reload, reload
anm_fire_mode				= aksu_draw, draw, 1.3
;-----------------------------------------------------------------------------
; 	Прицелы
;-----------------------------------------------------------------------------
[wpn_ak105_1p29]:wpn_ak105
visual						= dynamics\weapons\wpn_ak105\wpn_ak105_1p29.ogf
scope_name					= 1p29
scope_x						= 60
scope_y						= -5
hud							= wpn_ak105_1p29_hud

[wpn_ak105_1p29_hud]:wpn_ak105_hud
item_visual					= dynamics\weapons\wpn_ak105\wpn_ak105_1p29_hud.ogf
aim_hud_offset_pos			= -0.05303,-0.01441,-0.112306
aim_hud_offset_pos_16x9		= -0.05303,-0.01441,-0.112306
aim_hud_offset_rot			= 0.042306,0.028849,-0.0115
aim_hud_offset_rot_16x9		= 0.042306,0.028849,-0.0115
aim_hud_offset_pos_alt		= 0.005040,0.036015,0
aim_hud_offset_pos_alt_16x9	= 0.005040,0.036015,0
;-----------------------------------------------------------------------------
[wpn_ak105_1p78]:wpn_ak105
visual						= dynamics\weapons\wpn_ak105\wpn_ak105_1p78.ogf
scope_name					= 1p78
scope_x						= 60
scope_y						= -6
hud							= wpn_ak105_1p78_hud

[wpn_ak105_1p78_hud]:wpn_ak105_hud
item_visual					= dynamics\weapons\wpn_ak105\wpn_ak105_1p78_hud.ogf
aim_hud_offset_pos			= -0.048235,-0.001515,-0.101827
aim_hud_offset_pos_16x9		= -0.048235,-0.001515,-0.101827
aim_hud_offset_rot			= 0.045868,0.025412,0.001688
aim_hud_offset_rot_16x9		= 0.045868,0.025412,0.001688
;-----------------------------------------------------------------------------
[wpn_ak105_ekp]:wpn_ak105
visual						= dynamics\weapons\wpn_ak105\wpn_ak105_ekp.ogf
scope_name					= ekp
scope_x						= 66
scope_y						= -2
hud							= wpn_ak105_ekp_hud

[wpn_ak105_ekp_hud]:wpn_ak105_hud
item_visual					= dynamics\weapons\wpn_ak105\wpn_ak105_ekp_hud.ogf
aim_hud_offset_pos			= -0.04778,-0.005565,-0.137374
aim_hud_offset_pos_16x9		= -0.04778,-0.005565,-0.137374
aim_hud_offset_rot			= 0.054056,0.030911,-0.0115
aim_hud_offset_rot_16x9		= 0.054056,0.030911,-0.0115
;-----------------------------------------------------------------------------
[wpn_ak105_kobra]:wpn_ak105
visual						= dynamics\weapons\wpn_ak105\wpn_ak105_kobra.ogf
scope_name					= kobra
scope_x						= 68
scope_y						= -1
hud							= wpn_ak105_kobra_hud

[wpn_ak105_kobra_hud]:wpn_ak105_hud
item_visual					= dynamics\weapons\wpn_ak105\wpn_ak105_kobra_hud.ogf
aim_hud_offset_pos			= -0.0474,-0.001815,-0.15098
aim_hud_offset_pos_16x9		= -0.0474,-0.001815,-0.15098
aim_hud_offset_rot			= 0.042119,0.032661,-0.0115
aim_hud_offset_rot_16x9		= 0.042119,0.032661,-0.0115
;-----------------------------------------------------------------------------
[wpn_ak105_okp]:wpn_ak105
visual						= dynamics\weapons\wpn_ak105\wpn_ak105_okp.ogf
scope_name					= okp
scope_x						= 72
scope_y						= -2
hud							= wpn_ak105_okp_hud

[wpn_ak105_okp_hud]:wpn_ak105_hud
item_visual					= dynamics\weapons\wpn_ak105\wpn_ak105_okp_hud.ogf
aim_hud_offset_pos			= -0.04569,0.01912,-0.154394
aim_hud_offset_pos_16x9		= -0.04569,0.01912,-0.154394
aim_hud_offset_rot			= 0.055743,0.041599,-0.0115
aim_hud_offset_rot_16x9		= 0.055743,0.041599,-0.0115
aim_hud_offset_pos_alt		= -0.002100,0.002730,0
aim_hud_offset_pos_alt_16x9	= -0.002100,0.002730,0
aim_hud_offset_rot_alt		= -0.011788,-0.013472,0
aim_hud_offset_rot_alt_16x9	= -0.011788,-0.013472,0
;-----------------------------------------------------------------------------
[wpn_ak105_pso]:wpn_ak105
scope_name					= pso
scope_x						= 38
scope_y						= -2
hud							= wpn_ak105_pso_hud

[wpn_ak105_pso_hud]:wpn_ak105_hud
anm_shots_aim				= aksu_shoot_scope
aim_hud_offset_pos			= -0.03919,0.009685,-0.062365
aim_hud_offset_pos_16x9		= -0.03919,0.009685,-0.062365
aim_hud_offset_rot			= 0.042743,0.028724,-0.010562
aim_hud_offset_rot_16x9		= 0.042743,0.028724,-0.010562
;-----------------------------------------------------------------------------